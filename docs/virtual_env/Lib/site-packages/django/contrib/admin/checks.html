<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>checks.py</title>
  <link rel="stylesheet" href="..\..\..\..\..\..\pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>checks.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">chain</span>

<span class="kn">from</span> <span class="nn">django.apps</span> <span class="kn">import</span> <span class="n">apps</span>
<span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="kn">from</span> <span class="nn">django.contrib.admin.utils</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">NotRelationField</span><span class="p">,</span> <span class="n">flatten</span><span class="p">,</span> <span class="n">get_fields_from_path</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">django.core</span> <span class="kn">import</span> <span class="n">checks</span>
<span class="kn">from</span> <span class="nn">django.core.exceptions</span> <span class="kn">import</span> <span class="n">FieldDoesNotExist</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">django.db.models.constants</span> <span class="kn">import</span> <span class="n">LOOKUP_SEP</span>
<span class="kn">from</span> <span class="nn">django.db.models.expressions</span> <span class="kn">import</span> <span class="n">Combinable</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">OrderBy</span>
<span class="kn">from</span> <span class="nn">django.forms.models</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">BaseModelForm</span><span class="p">,</span> <span class="n">BaseModelFormSet</span><span class="p">,</span> <span class="n">_get_foreign_key</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">engines</span>
<span class="kn">from</span> <span class="nn">django.template.backends.django</span> <span class="kn">import</span> <span class="n">DjangoTemplates</span>
<span class="kn">from</span> <span class="nn">django.utils.module_loading</span> <span class="kn">import</span> <span class="n">import_string</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <p>issubclass() variant that doesn't raise an exception if cls isn't a
class.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">_issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">classinfo</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">classinfo</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      <p>Return whether or not a dotted class path (or a subclass of that class) is
found in a list of candidate paths.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">_contains_subclass</span><span class="p">(</span><span class="n">class_path</span><span class="p">,</span> <span class="n">candidate_paths</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="bp">cls</span> <span class="o">=</span> <span class="n">import_string</span><span class="p">(</span><span class="n">class_path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">candidate_paths</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">candidate_cls</span> <span class="o">=</span> <span class="n">import_string</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      <p>ImportErrors are raised elsewhere.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">_issubclass</span><span class="p">(</span><span class="n">candidate_cls</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">check_admin_app</span><span class="p">(</span><span class="n">app_configs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">django.contrib.admin.sites</span> <span class="kn">import</span> <span class="n">all_sites</span>
    <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">site</span> <span class="ow">in</span> <span class="n">all_sites</span><span class="p">:</span>
        <span class="n">errors</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">site</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">app_configs</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">errors</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      <p>Check that the admin's dependencies are correctly installed.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">check_dependencies</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">if</span> <span class="ow">not</span> <span class="n">apps</span><span class="o">.</span><span class="n">is_installed</span><span class="p">(</span><span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">app_dependencies</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span> <span class="mi">401</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span> <span class="mi">405</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span> <span class="mi">406</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">app_name</span><span class="p">,</span> <span class="n">error_code</span> <span class="ow">in</span> <span class="n">app_dependencies</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">apps</span><span class="o">.</span><span class="n">is_installed</span><span class="p">(</span><span class="n">app_name</span><span class="p">):</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                <span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; must be in INSTALLED_APPS in order to use the admin &quot;</span>
                <span class="s2">&quot;application.&quot;</span> <span class="o">%</span> <span class="n">app_name</span><span class="p">,</span>
                <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E</span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">error_code</span><span class="p">,</span>
            <span class="p">))</span>
    <span class="k">for</span> <span class="n">engine</span> <span class="ow">in</span> <span class="n">engines</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span> <span class="n">DjangoTemplates</span><span class="p">):</span>
            <span class="n">django_templates_instance</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">engine</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">django_templates_instance</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">django_templates_instance</span><span class="p">:</span>
        <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
            <span class="s2">&quot;A &#39;django.template.backends.django.DjangoTemplates&#39; instance &quot;</span>
            <span class="s2">&quot;must be configured in TEMPLATES in order to use the admin &quot;</span>
            <span class="s2">&quot;application.&quot;</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E403&#39;</span><span class="p">,</span>
        <span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;django.contrib.auth.context_processors.auth&#39;</span>
                <span class="ow">not</span> <span class="ow">in</span> <span class="n">django_templates_instance</span><span class="o">.</span><span class="n">context_processors</span> <span class="ow">and</span>
                <span class="n">_contains_subclass</span><span class="p">(</span><span class="s1">&#39;django.contrib.auth.backends.ModelBackend&#39;</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">AUTHENTICATION_BACKENDS</span><span class="p">)):</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                <span class="s2">&quot;&#39;django.contrib.auth.context_processors.auth&#39; must be &quot;</span>
                <span class="s2">&quot;enabled in DjangoTemplates (TEMPLATES) if using the default &quot;</span>
                <span class="s2">&quot;auth backend in order to use the admin application.&quot;</span><span class="p">,</span>
                <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E402&#39;</span><span class="p">,</span>
            <span class="p">))</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;django.contrib.messages.context_processors.messages&#39;</span>
                <span class="ow">not</span> <span class="ow">in</span> <span class="n">django_templates_instance</span><span class="o">.</span><span class="n">context_processors</span><span class="p">):</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                <span class="s2">&quot;&#39;django.contrib.messages.context_processors.messages&#39; must &quot;</span>
                <span class="s2">&quot;be enabled in DjangoTemplates (TEMPLATES) in order to use &quot;</span>
                <span class="s2">&quot;the admin application.&quot;</span><span class="p">,</span>
                <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E404&#39;</span><span class="p">,</span>
            <span class="p">))</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">_contains_subclass</span><span class="p">(</span><span class="s1">&#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">MIDDLEWARE</span><span class="p">):</span>
        <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
            <span class="s2">&quot;&#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39; must &quot;</span>
            <span class="s2">&quot;be in MIDDLEWARE in order to use the admin application.&quot;</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E408&#39;</span><span class="p">,</span>
        <span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_contains_subclass</span><span class="p">(</span><span class="s1">&#39;django.contrib.messages.middleware.MessageMiddleware&#39;</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">MIDDLEWARE</span><span class="p">):</span>
        <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
            <span class="s2">&quot;&#39;django.contrib.messages.middleware.MessageMiddleware&#39; must &quot;</span>
            <span class="s2">&quot;be in MIDDLEWARE in order to use the admin application.&quot;</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E409&#39;</span><span class="p">,</span>
        <span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_contains_subclass</span><span class="p">(</span><span class="s1">&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">MIDDLEWARE</span><span class="p">):</span>
        <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
            <span class="s2">&quot;&#39;django.contrib.sessions.middleware.SessionMiddleware&#39; must &quot;</span>
            <span class="s2">&quot;be in MIDDLEWARE in order to use the admin application.&quot;</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E410&#39;</span><span class="p">,</span>
        <span class="p">))</span>
    <span class="k">return</span> <span class="n">errors</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">BaseModelAdminChecks</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_autocomplete_fields</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_raw_id_fields</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_fields</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_fieldsets</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_exclude</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_form</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_filter_vertical</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_filter_horizontal</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_radio_fields</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_prepopulated_fields</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_view_on_site_url</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_ordering</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_readonly_fields</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
        <span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      <p>Check that <code>autocomplete_fields</code> is a list or tuple of model fields.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_autocomplete_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">autocomplete_fields</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a list or tuple&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;autocomplete_fields&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E036&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">([</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_autocomplete_fields_item</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="s1">&#39;autocomplete_fields[</span><span class="si">%d</span><span class="s1">]&#39;</span> <span class="o">%</span> <span class="n">index</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">autocomplete_fields</span><span class="p">)</span>
            <span class="p">]))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      <p>Check that an item in <code>autocomplete_fields</code> is a ForeignKey or a
ManyToManyField and that the item has a related ModelAdmin with
search_fields defined.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_autocomplete_fields_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-14'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-14'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">try</span><span class="p">:</span>
            <span class="n">field</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">FieldDoesNotExist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">refer_to_missing_field</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E037&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">field</span><span class="o">.</span><span class="n">many_to_many</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span>
                    <span class="s1">&#39;a foreign key or a many-to-many field&#39;</span><span class="p">,</span>
                    <span class="n">option</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E038&#39;</span>
                <span class="p">)</span>
            <span class="n">related_admin</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">admin_site</span><span class="o">.</span><span class="n">_registry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">remote_field</span><span class="o">.</span><span class="n">model</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">related_admin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[</span>
                    <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                        <span class="s1">&#39;An admin for model &quot;</span><span class="si">%s</span><span class="s1">&quot; has to be registered &#39;</span>
                        <span class="s1">&#39;to be referenced by </span><span class="si">%s</span><span class="s1">.autocomplete_fields.&#39;</span> <span class="o">%</span> <span class="p">(</span>
                            <span class="n">field</span><span class="o">.</span><span class="n">remote_field</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                            <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                        <span class="p">),</span>
                        <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E039&#39;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">related_admin</span><span class="o">.</span><span class="n">search_fields</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[</span>
                    <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                        <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> must define &quot;search_fields&quot;, because it</span><span class="se">\&#39;</span><span class="s1">s &#39;</span>
                        <span class="s1">&#39;referenced by </span><span class="si">%s</span><span class="s1">.autocomplete_fields.&#39;</span> <span class="o">%</span> <span class="p">(</span>
                            <span class="n">related_admin</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                            <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                        <span class="p">),</span>
                        <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E040&#39;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-15'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-15'>#</a>
      </div>
      <p>Check that <code>raw_id_fields</code> only contains field names that are listed</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_raw_id_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-16'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-16'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">on</span> <span class="n">the</span> <span class="n">model</span><span class="o">.</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        if not isinstance(obj.raw_id_fields, (list, tuple)):</span>
<span class="s2">            return must_be(&#39;a list or tuple&#39;, option=&#39;raw_id_fields&#39;, obj=obj, id=&#39;admin.E001&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            return list(chain.from_iterable(</span>
<span class="s2">                self._check_raw_id_fields_item(obj, field_name, &#39;raw_id_fields[</span><span class="si">%d</span><span class="s2">]&#39; </span><span class="si">% i</span><span class="s2">ndex)</span>
<span class="s2">                for index, field_name in enumerate(obj.raw_id_fields)</span>
<span class="s2">            ))</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_raw_id_fields_item(self, obj, field_name, label):</span>
<span class="s2">        &quot;&quot;&quot;</span> <span class="n">Check</span> <span class="n">an</span> <span class="n">item</span> <span class="n">of</span> <span class="err">`</span><span class="n">raw_id_fields</span><span class="err">`</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">check</span> <span class="n">that</span> <span class="n">field</span> <span class="n">named</span>
        <span class="err">`</span><span class="n">field_name</span><span class="err">`</span> <span class="n">exists</span> <span class="ow">in</span> <span class="n">model</span> <span class="err">`</span><span class="n">model</span><span class="err">`</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">ForeignKey</span> <span class="ow">or</span> <span class="n">a</span>
        <span class="n">ManyToManyField</span><span class="o">.</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        try:</span>
<span class="s2">            field = obj.model._meta.get_field(field_name)</span>
<span class="s2">        except FieldDoesNotExist:</span>
<span class="s2">            return refer_to_missing_field(field=field_name, option=label, obj=obj, id=&#39;admin.E002&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            if not field.many_to_many and not isinstance(field, models.ForeignKey):</span>
<span class="s2">                return must_be(&#39;a foreign key or a many-to-many field&#39;, option=label, obj=obj, id=&#39;admin.E003&#39;)</span>
<span class="s2">            else:</span>
<span class="s2">                return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_fields(self, obj):</span>
<span class="s2">        &quot;&quot;&quot;</span> <span class="n">Check</span> <span class="n">that</span> <span class="err">`</span><span class="n">fields</span><span class="err">`</span> <span class="n">only</span> <span class="n">refer</span> <span class="n">to</span> <span class="n">existing</span> <span class="n">fields</span><span class="p">,</span> <span class="n">doesn</span><span class="s1">&#39;t contain</span>
        <span class="n">duplicates</span><span class="o">.</span> <span class="n">Check</span> <span class="k">if</span> <span class="n">at</span> <span class="n">most</span> <span class="n">one</span> <span class="n">of</span> <span class="err">`</span><span class="n">fields</span><span class="err">`</span> <span class="ow">and</span> <span class="err">`</span><span class="n">fieldsets</span><span class="err">`</span> <span class="ow">is</span> <span class="n">defined</span><span class="o">.</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-17'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-17'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">duplicates</span><span class="o">.</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        if obj.fieldsets is None:</span>
<span class="s2">            return []</span>
<span class="s2">        elif not isinstance(obj.fieldsets, (list, tuple)):</span>
<span class="s2">            return must_be(&#39;a list or tuple&#39;, option=&#39;fieldsets&#39;, obj=obj, id=&#39;admin.E007&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            seen_fields = []</span>
<span class="s2">            return list(chain.from_iterable(</span>
<span class="s2">                self._check_fieldsets_item(obj, fieldset, &#39;fieldsets[</span><span class="si">%d</span><span class="s2">]&#39; </span><span class="si">% i</span><span class="s2">ndex, seen_fields)</span>
<span class="s2">                for index, fieldset in enumerate(obj.fieldsets)</span>
<span class="s2">            ))</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_fieldsets_item(self, obj, fieldset, label, seen_fields):</span>
<span class="s2">        &quot;&quot;&quot;</span> <span class="n">Check</span> <span class="n">an</span> <span class="n">item</span> <span class="n">of</span> <span class="err">`</span><span class="n">fieldsets</span><span class="err">`</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">check</span> <span class="n">that</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">pair</span> <span class="n">of</span> <span class="n">a</span>
        <span class="nb">set</span> <span class="n">name</span> <span class="ow">and</span> <span class="n">a</span> <span class="n">dictionary</span> <span class="n">containing</span> <span class="s2">&quot;fields&quot;</span> <span class="n">key</span><span class="o">.</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        if not isinstance(fieldset, (list, tuple)):</span>
<span class="s2">            return must_be(&#39;a list or tuple&#39;, option=label, obj=obj, id=&#39;admin.E008&#39;)</span>
<span class="s2">        elif len(fieldset) != 2:</span>
<span class="s2">            return must_be(&#39;of length 2&#39;, option=label, obj=obj, id=&#39;admin.E009&#39;)</span>
<span class="s2">        elif not isinstance(fieldset[1], dict):</span>
<span class="s2">            return must_be(&#39;a dictionary&#39;, option=&#39;</span><span class="si">%s</span><span class="s2">[1]&#39; </span><span class="si">% la</span><span class="s2">bel, obj=obj, id=&#39;admin.E010&#39;)</span>
<span class="s2">        elif &#39;fields&#39; not in fieldset[1]:</span>
<span class="s2">            return [</span>
<span class="s2">                checks.Error(</span>
<span class="s2">                    &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">[1]&#39; must contain the key &#39;fields&#39;.&quot; </span><span class="si">% la</span><span class="s2">bel,</span>
<span class="s2">                    obj=obj.__class__,</span>
<span class="s2">                    id=&#39;admin.E011&#39;,</span>
<span class="s2">                )</span>
<span class="s2">            ]</span>
<span class="s2">        elif not isinstance(fieldset[1][&#39;fields&#39;], (list, tuple)):</span>
<span class="s2">            return must_be(&#39;a list or tuple&#39;, option=&quot;</span><span class="si">%s</span><span class="s2">[1][&#39;fields&#39;]&quot; </span><span class="si">% la</span><span class="s2">bel, obj=obj, id=&#39;admin.E008&#39;)</span>

<span class="s2">        seen_fields.extend(flatten(fieldset[1][&#39;fields&#39;]))</span>
<span class="s2">        if len(seen_fields) != len(set(seen_fields)):</span>
<span class="s2">            return [</span>
<span class="s2">                checks.Error(</span>
<span class="s2">                    &quot;There are duplicate field(s) in &#39;</span><span class="si">%s</span><span class="s2">[1]&#39;.&quot; </span><span class="si">% la</span><span class="s2">bel,</span>
<span class="s2">                    obj=obj.__class__,</span>
<span class="s2">                    id=&#39;admin.E012&#39;,</span>
<span class="s2">                )</span>
<span class="s2">            ]</span>
<span class="s2">        return list(chain.from_iterable(</span>
<span class="s2">            self._check_field_spec(obj, fieldset_fields, &#39;</span><span class="si">%s</span><span class="s2">[1][&quot;fields&quot;]&#39; </span><span class="si">% la</span><span class="s2">bel)</span>
<span class="s2">            for fieldset_fields in fieldset[1][&#39;fields&#39;]</span>
<span class="s2">        ))</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_field_spec(self, obj, fields, label):</span>
<span class="s2">        &quot;&quot;&quot;</span> <span class="err">`</span><span class="n">fields</span><span class="err">`</span> <span class="n">should</span> <span class="n">be</span> <span class="n">an</span> <span class="n">item</span> <span class="n">of</span> <span class="err">`</span><span class="n">fields</span><span class="err">`</span> <span class="ow">or</span> <span class="n">an</span> <span class="n">item</span> <span class="n">of</span>
        <span class="n">fieldset</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;fields&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="nb">any</span> <span class="err">`</span><span class="n">fieldset</span><span class="err">`</span> <span class="ow">in</span> <span class="err">`</span><span class="n">fieldsets</span><span class="err">`</span><span class="o">.</span> <span class="n">It</span> <span class="n">should</span> <span class="n">be</span> <span class="n">a</span>
        <span class="n">field</span> <span class="n">name</span> <span class="ow">or</span> <span class="n">a</span> <span class="nb">tuple</span> <span class="n">of</span> <span class="n">field</span> <span class="n">names</span><span class="o">.</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        if isinstance(fields, tuple):</span>
<span class="s2">            return list(chain.from_iterable(</span>
<span class="s2">                self._check_field_spec_item(obj, field_name, &quot;</span><span class="si">%s</span><span class="s2">[</span><span class="si">%d</span><span class="s2">]&quot; % (label, index))</span>
<span class="s2">                for index, field_name in enumerate(fields)</span>
<span class="s2">            ))</span>
<span class="s2">        else:</span>
<span class="s2">            return self._check_field_spec_item(obj, fields, label)</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_field_spec_item(self, obj, field_name, label):</span>
<span class="s2">        if field_name in obj.readonly_fields:</span>
<span class="s2">#DIVIDER</span>
<span class="s2">            return []</span>
<span class="s2">        else:</span>
<span class="s2">            try:</span>
<span class="s2">                field = obj.model._meta.get_field(field_name)</span>
<span class="s2">            except FieldDoesNotExist:</span>
<span class="s2">#DIVIDER</span>
<span class="s2">                return []</span>
<span class="s2">            else:</span>
<span class="s2">                if (isinstance(field, models.ManyToManyField) and</span>
<span class="s2">                        not field.remote_field.through._meta.auto_created):</span>
<span class="s2">                    return [</span>
<span class="s2">                        checks.Error(</span>
<span class="s2">                            &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; cannot include the ManyToManyField &#39;</span><span class="si">%s</span><span class="s2">&#39;, &quot;</span>
<span class="s2">                            &quot;because that field manually specifies a relationship model.&quot;</span>
<span class="s2">                            % (label, field_name),</span>
<span class="s2">                            obj=obj.__class__,</span>
<span class="s2">                            id=&#39;admin.E013&#39;,</span>
<span class="s2">                        )</span>
<span class="s2">                    ]</span>
<span class="s2">                else:</span>
<span class="s2">                    return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_exclude(self, obj):</span>
<span class="s2">        &quot;&quot;&quot;</span> <span class="n">Check</span> <span class="n">that</span> <span class="n">exclude</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">sequence</span> <span class="n">without</span> <span class="n">duplicates</span><span class="o">.</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        if obj.exclude is None:  # default value is None</span>
<span class="s2">            return []</span>
<span class="s2">        elif not isinstance(obj.exclude, (list, tuple)):</span>
<span class="s2">            return must_be(&#39;a list or tuple&#39;, option=&#39;exclude&#39;, obj=obj, id=&#39;admin.E014&#39;)</span>
<span class="s2">        elif len(obj.exclude) &gt; len(set(obj.exclude)):</span>
<span class="s2">            return [</span>
<span class="s2">                checks.Error(</span>
<span class="s2">                    &quot;The value of &#39;exclude&#39; contains duplicate field(s).&quot;,</span>
<span class="s2">                    obj=obj.__class__,</span>
<span class="s2">                    id=&#39;admin.E015&#39;,</span>
<span class="s2">                )</span>
<span class="s2">            ]</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_form(self, obj):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        if not _issubclass(obj.form, BaseModelForm):</span>
<span class="s2">            return must_inherit_from(parent=&#39;BaseModelForm&#39;, option=&#39;form&#39;,</span>
<span class="s2">                                     obj=obj, id=&#39;admin.E016&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_filter_vertical(self, obj):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        if not isinstance(obj.filter_vertical, (list, tuple)):</span>
<span class="s2">            return must_be(&#39;a list or tuple&#39;, option=&#39;filter_vertical&#39;, obj=obj, id=&#39;admin.E017&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            return list(chain.from_iterable(</span>
<span class="s2">                self._check_filter_item(obj, field_name, &quot;filter_vertical[</span><span class="si">%d</span><span class="s2">]&quot; </span><span class="si">% i</span><span class="s2">ndex)</span>
<span class="s2">                for index, field_name in enumerate(obj.filter_vertical)</span>
<span class="s2">            ))</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_filter_horizontal(self, obj):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        if not isinstance(obj.filter_horizontal, (list, tuple)):</span>
<span class="s2">            return must_be(&#39;a list or tuple&#39;, option=&#39;filter_horizontal&#39;, obj=obj, id=&#39;admin.E018&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            return list(chain.from_iterable(</span>
<span class="s2">                self._check_filter_item(obj, field_name, &quot;filter_horizontal[</span><span class="si">%d</span><span class="s2">]&quot; </span><span class="si">% i</span><span class="s2">ndex)</span>
<span class="s2">                for index, field_name in enumerate(obj.filter_horizontal)</span>
<span class="s2">            ))</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_filter_item(self, obj, field_name, label):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        check that given field exists and is a ManyToManyField. &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">field</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">FieldDoesNotExist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">refer_to_missing_field</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E019&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">field</span><span class="o">.</span><span class="n">many_to_many</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a many-to-many field&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E020&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-18'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-18'>#</a>
      </div>
      <p>if obj.fields is None:
    return []
elif not isinstance(obj.fields, (list, tuple)):
    return must_be('a list or tuple', option='fields', obj=obj, id='admin.E004')
elif obj.fieldsets:
    return [
        checks.Error(
            "Both 'fieldsets' and 'fields' are specified.",
            obj=obj.<strong>class</strong>,
            id='admin.E005',
        )
    ]
fields = flatten(obj.fields)
if len(fields) != len(set(fields)):
    return [
        checks.Error(
            "The value of 'fields' contains duplicate field(s).",
            obj=obj.<strong>class</strong>,
            id='admin.E006',
        )
    ]</p>
<p>return list(chain.from_iterable(
    self._check_field_spec(obj, field_name, 'fields')
    for field_name in obj.fields
))</p>
<pre><code>def _check_fieldsets(self, obj):
</code></pre>
<p>Check that fieldsets is properly formatted and doesn't contain</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_radio_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Check that `radio_fields` is a dictionary. &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">radio_fields</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a dictionary&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;radio_fields&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E021&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_radio_fields_key</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="s1">&#39;radio_fields&#39;</span><span class="p">)</span> <span class="o">+</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_radio_fields_value</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="s1">&#39;radio_fields[&quot;</span><span class="si">%s</span><span class="s1">&quot;]&#39;</span> <span class="o">%</span> <span class="n">field_name</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">radio_fields</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-19'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-19'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_radio_fields_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-20'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-20'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">field</span> <span class="ow">and</span> <span class="n">that</span> <span class="n">the</span> <span class="n">field</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">ForeignKey</span> <span class="ow">or</span> <span class="n">has</span> <span class="err">`</span><span class="n">choices</span><span class="err">`</span> <span class="n">defined</span><span class="o">.</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        try:</span>
<span class="s2">            field = obj.model._meta.get_field(field_name)</span>
<span class="s2">        except FieldDoesNotExist:</span>
<span class="s2">            return refer_to_missing_field(field=field_name, option=label, obj=obj, id=&#39;admin.E022&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            if not (isinstance(field, models.ForeignKey) or field.choices):</span>
<span class="s2">                return [</span>
<span class="s2">                    checks.Error(</span>
<span class="s2">                        &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; refers to &#39;</span><span class="si">%s</span><span class="s2">&#39;, which is not an &quot;</span>
<span class="s2">                        &quot;instance of ForeignKey, and does not have a &#39;choices&#39; definition.&quot; % (</span>
<span class="s2">                            label, field_name</span>
<span class="s2">                        ),</span>
<span class="s2">                        obj=obj.__class__,</span>
<span class="s2">                        id=&#39;admin.E023&#39;,</span>
<span class="s2">                    )</span>
<span class="s2">                ]</span>
<span class="s2">            else:</span>
<span class="s2">                return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_radio_fields_value(self, obj, val, label):</span>
<span class="s2">        &quot;&quot;&quot;</span> <span class="n">Check</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">a</span> <span class="n">value</span> <span class="n">of</span> <span class="err">`</span><span class="n">radio_fields</span><span class="err">`</span> <span class="n">dictionary</span><span class="o">.</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        from django.contrib.admin.options import HORIZONTAL, VERTICAL</span>

<span class="s2">        if val not in (HORIZONTAL, VERTICAL):</span>
<span class="s2">            return [</span>
<span class="s2">                checks.Error(</span>
<span class="s2">                    &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; must be either admin.HORIZONTAL or admin.VERTICAL.&quot; </span><span class="si">% la</span><span class="s2">bel,</span>
<span class="s2">                    obj=obj.__class__,</span>
<span class="s2">                    id=&#39;admin.E024&#39;,</span>
<span class="s2">                )</span>
<span class="s2">            ]</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_view_on_site_url(self, obj):</span>
<span class="s2">        if not callable(obj.view_on_site) and not isinstance(obj.view_on_site, bool):</span>
<span class="s2">            return [</span>
<span class="s2">                checks.Error(</span>
<span class="s2">                    &quot;The value of &#39;view_on_site&#39; must be a callable or a boolean value.&quot;,</span>
<span class="s2">                    obj=obj.__class__,</span>
<span class="s2">                    id=&#39;admin.E025&#39;,</span>
<span class="s2">                )</span>
<span class="s2">            ]</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_prepopulated_fields(self, obj):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        field types. &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">prepopulated_fields</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a dictionary&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;prepopulated_fields&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E026&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_prepopulated_fields_key</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="s1">&#39;prepopulated_fields&#39;</span><span class="p">)</span> <span class="o">+</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_prepopulated_fields_value</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="s1">&#39;prepopulated_fields[&quot;</span><span class="si">%s</span><span class="s1">&quot;]&#39;</span> <span class="o">%</span> <span class="n">field_name</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">prepopulated_fields</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-21'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-21'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_prepopulated_fields_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Check a key of `prepopulated_fields` dictionary, i.e. check that it</span>
<span class="sd">        is a name of existing field and the field is one of the allowed types.</span>
<span class="sd">#DIVIDER</span>
<span class="sd">        iterable of existing fields. &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a list or tuple&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E029&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_prepopulated_fields_value_item</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">subfield_name</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">[</span><span class="si">%r</span><span class="s2">]&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">subfield_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-22'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-22'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_prepopulated_fields_value_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; For `prepopulated_fields` equal to {&quot;slug&quot;: (&quot;title&quot;,)},</span>
<span class="sd">        `field_name` is &quot;title&quot;. &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">FieldDoesNotExist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">refer_to_missing_field</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E030&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-23'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-23'>#</a>
      </div>
      <p>Stuff can be put in fields that isn't actually a model field if
it's in readonly_fields, readonly_fields will handle the
validation of such things.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_ordering</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Check that ordering refers to existing fields or is random. &quot;&quot;&quot;</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-24'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-24'>#</a>
      </div>
      <p>If we can't find a field on the model that matches, it could
be an extra field on the form.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">ordering</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># The default value is None</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">ordering</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a list or tuple&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;ordering&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E031&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_ordering_item</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="s1">&#39;ordering[</span><span class="si">%d</span><span class="s1">]&#39;</span> <span class="o">%</span> <span class="n">index</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">ordering</span><span class="p">)</span>
            <span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-25'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-25'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_ordering_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-26'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-26'>#</a>
      </div>
      <p>Check that form subclasses BaseModelForm.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="p">(</span><span class="n">Combinable</span><span class="p">,</span> <span class="n">OrderBy</span><span class="p">)):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">OrderBy</span><span class="p">):</span>
                <span class="n">field_name</span> <span class="o">=</span> <span class="n">field_name</span><span class="o">.</span><span class="n">asc</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field_name</span><span class="o">.</span><span class="n">expression</span><span class="p">,</span> <span class="n">F</span><span class="p">):</span>
                <span class="n">field_name</span> <span class="o">=</span> <span class="n">field_name</span><span class="o">.</span><span class="n">expression</span><span class="o">.</span><span class="n">name</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">field_name</span> <span class="o">==</span> <span class="s1">&#39;?&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">ordering</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                    <span class="s2">&quot;The value of &#39;ordering&#39; has the random ordering marker &#39;?&#39;, &quot;</span>
                    <span class="s2">&quot;but contains other fields as well.&quot;</span><span class="p">,</span>
                    <span class="n">hint</span><span class="o">=</span><span class="s1">&#39;Either remove the &quot;?&quot;, or remove the other fields.&#39;</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E032&#39;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">]</span>
        <span class="k">elif</span> <span class="n">field_name</span> <span class="o">==</span> <span class="s1">&#39;?&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="n">LOOKUP_SEP</span> <span class="ow">in</span> <span class="n">field_name</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-27'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-27'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">field_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">):</span>
                <span class="n">field_name</span> <span class="o">=</span> <span class="n">field_name</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">if</span> <span class="n">field_name</span> <span class="o">==</span> <span class="s1">&#39;pk&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">FieldDoesNotExist</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">refer_to_missing_field</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E033&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-28'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-28'>#</a>
      </div>
      <p>Check that filter_vertical is a sequence of field names.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_readonly_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-29'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-29'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">readonly_fields</span> <span class="o">==</span> <span class="p">():</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">readonly_fields</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a list or tuple&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;readonly_fields&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E034&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_readonly_fields_item</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="s2">&quot;readonly_fields[</span><span class="si">%d</span><span class="s2">]&quot;</span> <span class="o">%</span> <span class="n">index</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">readonly_fields</span><span class="p">)</span>
            <span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-30'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-30'>#</a>
      </div>
      <p>Check that filter_horizontal is a sequence of field names.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_readonly_fields_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">field_name</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">field_name</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">FieldDoesNotExist</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[</span>
                    <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                        <span class="s2">&quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; is not a callable, an attribute of &#39;</span><span class="si">%s</span><span class="s2">&#39;, or an attribute of &#39;</span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span> <span class="o">%</span> <span class="p">(</span>
                            <span class="n">label</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">app_label</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">object_name</span>
                        <span class="p">),</span>
                        <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E035&#39;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-31'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-31'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">ModelAdminChecks</span><span class="p">(</span><span class="n">BaseModelAdminChecks</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-32'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-32'>#</a>
      </div>
      <p>Check one item of <code>filter_vertical</code> or <code>filter_horizontal</code>, i.e.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">admin_obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="o">*</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_save_as</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_save_on_top</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_inlines</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_list_display</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_list_display_links</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_list_filter</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_list_select_related</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_list_per_page</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_list_max_show_all</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_list_editable</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_search_fields</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_date_hierarchy</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_action_permission_methods</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_actions_uniqueness</span><span class="p">(</span><span class="n">admin_obj</span><span class="p">),</span>
        <span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-33'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-33'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_save_as</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-34'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-34'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">save_as</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a boolean&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;save_as&#39;</span><span class="p">,</span>
                           <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E101&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-35'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-35'>#</a>
      </div>
      <p>Check that a key of <code>radio_fields</code> dictionary is name of existing</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_save_on_top</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-36'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-36'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">save_on_top</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a boolean&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;save_on_top&#39;</span><span class="p">,</span>
                           <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-37'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-37'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_inlines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-38'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-38'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">inlines</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a list or tuple&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;inlines&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E103&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_inlines_item</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="s2">&quot;inlines[</span><span class="si">%d</span><span class="s2">]&quot;</span> <span class="o">%</span> <span class="n">index</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">inlines</span><span class="p">)</span>
            <span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-39'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-39'>#</a>
      </div>
      <p>Check that <code>prepopulated_fields</code> is a dictionary containing allowed</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_inlines_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">inline</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-40'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-40'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">try</span><span class="p">:</span>
            <span class="n">inline_label</span> <span class="o">=</span> <span class="n">inline</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">inline</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                    <span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; must inherit from &#39;InlineModelAdmin&#39;.&quot;</span> <span class="o">%</span> <span class="n">obj</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E104&#39;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">]</span>

        <span class="kn">from</span> <span class="nn">django.contrib.admin.options</span> <span class="kn">import</span> <span class="n">InlineModelAdmin</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">_issubclass</span><span class="p">(</span><span class="n">inline</span><span class="p">,</span> <span class="n">InlineModelAdmin</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                    <span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; must inherit from &#39;InlineModelAdmin&#39;.&quot;</span> <span class="o">%</span> <span class="n">inline_label</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E104&#39;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">]</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">inline</span><span class="o">.</span><span class="n">model</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                    <span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; must have a &#39;model&#39; attribute.&quot;</span> <span class="o">%</span> <span class="n">inline_label</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E105&#39;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">]</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">_issubclass</span><span class="p">(</span><span class="n">inline</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a Model&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.model&#39;</span> <span class="o">%</span> <span class="n">inline_label</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E106&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">inline</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">admin_site</span><span class="p">)</span><span class="o">.</span><span class="n">check</span><span class="p">()</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-41'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-41'>#</a>
      </div>
      <p>try:
    field = obj.model._meta.get_field(field_name)
except FieldDoesNotExist:
    return refer_to_missing_field(field=field_name, option=label, obj=obj, id='admin.E027')
else:
    if isinstance(field, (models.DateTimeField, models.ForeignKey, models.ManyToManyField)):
        return [
            checks.Error(
                "The value of '%s' refers to '%s', which must not be a DateTimeField, "
                "a ForeignKey, a OneToOneField, or a ManyToManyField." % (label, field_name),
                obj=obj.<strong>class</strong>,
                id='admin.E028',
            )
        ]
    else:
        return []</p>
<pre><code>def _check_prepopulated_fields_value(self, obj, val, label):
</code></pre>
<p>Check a value of <code>prepopulated_fields</code> dictionary, i.e. it's an</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_list_display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-42'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-42'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">list_display</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a list or tuple&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;list_display&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E107&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_list_display_item</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="s2">&quot;list_display[</span><span class="si">%d</span><span class="s2">]&quot;</span> <span class="o">%</span> <span class="n">index</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">list_display</span><span class="p">)</span>
            <span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-43'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-43'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_list_display_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">field</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">FieldDoesNotExist</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">field</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[</span>
                    <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                        <span class="s2">&quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; refers to &#39;</span><span class="si">%s</span><span class="s2">&#39;, which is not a &quot;</span>
                        <span class="s2">&quot;callable, an attribute of &#39;</span><span class="si">%s</span><span class="s2">&#39;, or an attribute or &quot;</span>
                        <span class="s2">&quot;method on &#39;</span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span> <span class="o">%</span> <span class="p">(</span>
                            <span class="n">label</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                            <span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">app_label</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">object_name</span><span class="p">,</span>
                        <span class="p">),</span>
                        <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E108&#39;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                    <span class="s2">&quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; must not be a ManyToManyField.&quot;</span> <span class="o">%</span> <span class="n">label</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E109&#39;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">]</span>
        <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-44'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-44'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_list_display_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-45'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-45'>#</a>
      </div>
      <p>ordering = None</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kn">from</span> <span class="nn">django.contrib.admin.options</span> <span class="kn">import</span> <span class="n">ModelAdmin</span>

        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">list_display_links</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">list_display_links</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a list, a tuple, or None&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;list_display_links&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E110&#39;</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-46'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-46'>#</a>
      </div>
      <p>Check that <code>ordering</code> refers to existing fields.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">elif</span> <span class="n">obj</span><span class="o">.</span><span class="n">get_list_display</span><span class="o">.</span><span class="vm">__func__</span> <span class="ow">is</span> <span class="n">ModelAdmin</span><span class="o">.</span><span class="n">get_list_display</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_list_display_links_item</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="s2">&quot;list_display_links[</span><span class="si">%d</span><span class="s2">]&quot;</span> <span class="o">%</span> <span class="n">index</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">list_display_links</span><span class="p">)</span>
            <span class="p">))</span>
        <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-47'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-47'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_list_display_links_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">field_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">list_display</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                    <span class="s2">&quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; refers to &#39;</span><span class="si">%s</span><span class="s2">&#39;, which is not defined in &#39;list_display&#39;.&quot;</span> <span class="o">%</span> <span class="p">(</span>
                        <span class="n">label</span><span class="p">,</span> <span class="n">field_name</span>
                    <span class="p">),</span>
                    <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E111&#39;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-48'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-48'>#</a>
      </div>
      <p>Skip ordering in the format field1__field2 (FIXME: checking
this format would be nice, but it's a little fiddly).</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_list_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">list_filter</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a list or tuple&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;list_filter&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E112&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_check_list_filter_item</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="s2">&quot;list_filter[</span><span class="si">%d</span><span class="s2">]&quot;</span> <span class="o">%</span> <span class="n">index</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">list_filter</span><span class="p">)</span>
            <span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-49'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-49'>#</a>
      </div>
      <p>Check that readonly_fields refers to proper attribute or field.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_list_filter_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-50'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-50'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kn">from</span> <span class="nn">django.contrib.admin</span> <span class="kn">import</span> <span class="n">ListFilter</span><span class="p">,</span> <span class="n">FieldListFilter</span>

        <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">Field</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-51'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-51'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">if</span> <span class="ow">not</span> <span class="n">_issubclass</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">ListFilter</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">must_inherit_from</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="s1">&#39;ListFilter&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
                                         <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E113&#39;</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-52'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-52'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">FieldListFilter</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">[</span>
                    <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                        <span class="s2">&quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; must not inherit from &#39;FieldListFilter&#39;.&quot;</span> <span class="o">%</span> <span class="n">label</span><span class="p">,</span>
                        <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E114&#39;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-53'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-53'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">field</span><span class="p">,</span> <span class="n">list_filter_class</span> <span class="o">=</span> <span class="n">item</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">_issubclass</span><span class="p">(</span><span class="n">list_filter_class</span><span class="p">,</span> <span class="n">FieldListFilter</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">must_inherit_from</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="s1">&#39;FieldListFilter&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">[1]&#39;</span> <span class="o">%</span> <span class="n">label</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E115&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-54'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-54'>#</a>
      </div>
      <p>Check save_as is a boolean.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">field</span> <span class="o">=</span> <span class="n">item</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-55'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-55'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">try</span><span class="p">:</span>
                <span class="n">get_fields_from_path</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">NotRelationField</span><span class="p">,</span> <span class="n">FieldDoesNotExist</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">[</span>
                    <span class="n">checks</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span>
                        <span class="s2">&quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; refers to &#39;</span><span class="si">%s</span><span class="s2">&#39;, which does not refer to a Field.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">field</span><span class="p">),</span>
                        <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E116&#39;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-56'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-56'>#</a>
      </div>
      <p>Check save_on_top is a boolean.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_list_select_related</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-57'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-57'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">list_select_related</span><span class="p">,</span> <span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;a boolean, tuple or list&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;list_select_related&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E117&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-58'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-58'>#</a>
      </div>
      <p>Check all inline model admin classes.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_list_per_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-59'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-59'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">list_per_page</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;an integer&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;list_per_page&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E118&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-60'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-60'>#</a>
      </div>
      <p>Check one inline model admin.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_list_max_show_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-61'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-61'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">list_max_show_all</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">must_be</span><span class="p">(</span><span class="s1">&#39;an integer&#39;</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s1">&#39;list_max_show_all&#39;</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;admin.E119&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-62'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-62'>#</a>
      </div>
      <p>Check that list_display only contains fields or usable attributes.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_list_editable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-63'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-63'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">list_display</span> <span class="n">without</span> <span class="n">first</span> <span class="n">element</span><span class="o">.</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        if not isinstance(obj.list_editable, (list, tuple)):</span>
<span class="s2">            return must_be(&#39;a list or tuple&#39;, option=&#39;list_editable&#39;, obj=obj, id=&#39;admin.E120&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            return list(chain.from_iterable(</span>
<span class="s2">                self._check_list_editable_item(obj, item, &quot;list_editable[</span><span class="si">%d</span><span class="s2">]&quot; </span><span class="si">% i</span><span class="s2">ndex)</span>
<span class="s2">                for index, item in enumerate(obj.list_editable)</span>
<span class="s2">            ))</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_list_editable_item(self, obj, field_name, label):</span>
<span class="s2">        try:</span>
<span class="s2">            field = obj.model._meta.get_field(field_name)</span>
<span class="s2">        except FieldDoesNotExist:</span>
<span class="s2">            return refer_to_missing_field(field=field_name, option=label, obj=obj, id=&#39;admin.E121&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            if field_name not in obj.list_display:</span>
<span class="s2">                return [</span>
<span class="s2">                    checks.Error(</span>
<span class="s2">                        &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; refers to &#39;</span><span class="si">%s</span><span class="s2">&#39;, which is not &quot;</span>
<span class="s2">                        &quot;contained in &#39;list_display&#39;.&quot; % (label, field_name),</span>
<span class="s2">                        obj=obj.__class__,</span>
<span class="s2">                        id=&#39;admin.E122&#39;,</span>
<span class="s2">                    )</span>
<span class="s2">                ]</span>
<span class="s2">            elif obj.list_display_links and field_name in obj.list_display_links:</span>
<span class="s2">                return [</span>
<span class="s2">                    checks.Error(</span>
<span class="s2">                        &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; cannot be in both &#39;list_editable&#39; and &#39;list_display_links&#39;.&quot; </span><span class="si">% f</span><span class="s2">ield_name,</span>
<span class="s2">                        obj=obj.__class__,</span>
<span class="s2">                        id=&#39;admin.E123&#39;,</span>
<span class="s2">                    )</span>
<span class="s2">                ]</span>
<span class="s2">#DIVIDER</span>
<span class="s2">            elif (obj.list_display[0] == field_name and not obj.list_display_links and</span>
<span class="s2">                    obj.list_display_links is not None):</span>
<span class="s2">                return [</span>
<span class="s2">                    checks.Error(</span>
<span class="s2">                        &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; refers to the first field in &#39;list_display&#39; (&#39;</span><span class="si">%s</span><span class="s2">&#39;), &quot;</span>
<span class="s2">                        &quot;which cannot be used unless &#39;list_display_links&#39; is set.&quot; % (</span>
<span class="s2">                            label, obj.list_display[0]</span>
<span class="s2">                        ),</span>
<span class="s2">                        obj=obj.__class__,</span>
<span class="s2">                        id=&#39;admin.E124&#39;,</span>
<span class="s2">                    )</span>
<span class="s2">                ]</span>
<span class="s2">            elif not field.editable:</span>
<span class="s2">                return [</span>
<span class="s2">                    checks.Error(</span>
<span class="s2">                        &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; refers to &#39;</span><span class="si">%s</span><span class="s2">&#39;, which is not editable through the admin.&quot; % (</span>
<span class="s2">                            label, field_name</span>
<span class="s2">                        ),</span>
<span class="s2">                        obj=obj.__class__,</span>
<span class="s2">                        id=&#39;admin.E125&#39;,</span>
<span class="s2">                    )</span>
<span class="s2">                ]</span>
<span class="s2">            else:</span>
<span class="s2">                return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_search_fields(self, obj):</span>
<span class="s2">        &quot;&quot;&quot;</span> <span class="n">Check</span> <span class="n">search_fields</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">sequence</span><span class="o">.</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        if not isinstance(obj.search_fields, (list, tuple)):</span>
<span class="s2">            return must_be(&#39;a list or tuple&#39;, option=&#39;search_fields&#39;, obj=obj, id=&#39;admin.E126&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_date_hierarchy(self, obj):</span>
<span class="s2">#DIVIDER</span>

<span class="s2">        if obj.date_hierarchy is None:</span>
<span class="s2">            return []</span>
<span class="s2">        else:</span>
<span class="s2">            try:</span>
<span class="s2">                field = get_fields_from_path(obj.model, obj.date_hierarchy)[-1]</span>
<span class="s2">            except (NotRelationField, FieldDoesNotExist):</span>
<span class="s2">                return [</span>
<span class="s2">                    checks.Error(</span>
<span class="s2">                        &quot;The value of &#39;date_hierarchy&#39; refers to &#39;</span><span class="si">%s</span><span class="s2">&#39;, which &quot;</span>
<span class="s2">                        &quot;does not refer to a Field.&quot; </span><span class="si">% o</span><span class="s2">bj.date_hierarchy,</span>
<span class="s2">                        obj=obj.__class__,</span>
<span class="s2">                        id=&#39;admin.E127&#39;,</span>
<span class="s2">                    )</span>
<span class="s2">                ]</span>
<span class="s2">            else:</span>
<span class="s2">                if not isinstance(field, (models.DateField, models.DateTimeField)):</span>
<span class="s2">                    return must_be(&#39;a DateField or DateTimeField&#39;, option=&#39;date_hierarchy&#39;, obj=obj, id=&#39;admin.E128&#39;)</span>
<span class="s2">                else:</span>
<span class="s2">                    return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_action_permission_methods(self, obj):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        actions = obj._get_base_actions()</span>
<span class="s2">        errors = []</span>
<span class="s2">        for func, name, _ in actions:</span>
<span class="s2">            if not hasattr(func, &#39;allowed_permissions&#39;):</span>
<span class="s2">                continue</span>
<span class="s2">            for permission in func.allowed_permissions:</span>
<span class="s2">                method_name = &#39;has_</span><span class="si">%s</span><span class="s2">_permission&#39; % permission</span>
<span class="s2">                if not hasattr(obj, method_name):</span>
<span class="s2">                    errors.append(</span>
<span class="s2">                        checks.Error(</span>
<span class="s2">                            &#39;</span><span class="si">%s</span><span class="s2"> must define a </span><span class="si">%s</span><span class="s2">() method for the </span><span class="si">%s</span><span class="s2"> action.&#39; % (</span>
<span class="s2">                                obj.__class__.__name__,</span>
<span class="s2">                                method_name,</span>
<span class="s2">                                func.__name__,</span>
<span class="s2">                            ),</span>
<span class="s2">                            obj=obj.__class__,</span>
<span class="s2">                            id=&#39;admin.E129&#39;,</span>
<span class="s2">                        )</span>
<span class="s2">                    )</span>
<span class="s2">        return errors</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_actions_uniqueness(self, obj):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        names = [name for _, name, _ in obj._get_base_actions()]</span>
<span class="s2">        if len(names) != len(set(names)):</span>
<span class="s2">            return [checks.Error(</span>
<span class="s2">                &#39;__name__ attributes of actions defined in </span><span class="si">%s</span><span class="s2"> must be &#39;</span>
<span class="s2">                &#39;unique.&#39; </span><span class="si">% o</span><span class="s2">bj.__class__,</span>
<span class="s2">                obj=obj.__class__,</span>
<span class="s2">                id=&#39;admin.E130&#39;,</span>
<span class="s2">            )]</span>
<span class="s2">        return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">class InlineModelAdminChecks(BaseModelAdminChecks):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def check(self, inline_obj, **kwargs):</span>
<span class="s2">        parent_model = inline_obj.parent_model</span>
<span class="s2">        return [</span>
<span class="s2">            *super().check(inline_obj),</span>
<span class="s2">            *self._check_relation(inline_obj, parent_model),</span>
<span class="s2">            *self._check_exclude_of_parent_model(inline_obj, parent_model),</span>
<span class="s2">            *self._check_extra(inline_obj),</span>
<span class="s2">            *self._check_max_num(inline_obj),</span>
<span class="s2">            *self._check_min_num(inline_obj),</span>
<span class="s2">            *self._check_formset(inline_obj),</span>
<span class="s2">        ]</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_exclude_of_parent_model(self, obj, parent_model):</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        errors = super()._check_exclude(obj)</span>
<span class="s2">        if errors:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">        if self._check_relation(obj, parent_model):</span>
<span class="s2">            return []</span>

<span class="s2">        if obj.exclude is None:</span>
<span class="s2">            return []</span>

<span class="s2">        fk = _get_foreign_key(parent_model, obj.model, fk_name=obj.fk_name)</span>
<span class="s2">        if fk.name in obj.exclude:</span>
<span class="s2">            return [</span>
<span class="s2">                checks.Error(</span>
<span class="s2">                    &quot;Cannot exclude the field &#39;</span><span class="si">%s</span><span class="s2">&#39;, because it is the foreign key &quot;</span>
<span class="s2">                    &quot;to the parent model &#39;</span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2">&#39;.&quot; % (</span>
<span class="s2">                        fk.name, parent_model._meta.app_label, parent_model._meta.object_name</span>
<span class="s2">                    ),</span>
<span class="s2">                    obj=obj.__class__,</span>
<span class="s2">                    id=&#39;admin.E201&#39;,</span>
<span class="s2">                )</span>
<span class="s2">            ]</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_relation(self, obj, parent_model):</span>
<span class="s2">        try:</span>
<span class="s2">            _get_foreign_key(parent_model, obj.model, fk_name=obj.fk_name)</span>
<span class="s2">        except ValueError as e:</span>
<span class="s2">            return [checks.Error(e.args[0], obj=obj.__class__, id=&#39;admin.E202&#39;)]</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_extra(self, obj):</span>
<span class="s2">#DIVIDER</span>

<span class="s2">        if not isinstance(obj.extra, int):</span>
<span class="s2">            return must_be(&#39;an integer&#39;, option=&#39;extra&#39;, obj=obj, id=&#39;admin.E203&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_max_num(self, obj):</span>
<span class="s2">#DIVIDER</span>

<span class="s2">        if obj.max_num is None:</span>
<span class="s2">            return []</span>
<span class="s2">        elif not isinstance(obj.max_num, int):</span>
<span class="s2">            return must_be(&#39;an integer&#39;, option=&#39;max_num&#39;, obj=obj, id=&#39;admin.E204&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_min_num(self, obj):</span>
<span class="s2">#DIVIDER</span>

<span class="s2">        if obj.min_num is None:</span>
<span class="s2">            return []</span>
<span class="s2">        elif not isinstance(obj.min_num, int):</span>
<span class="s2">            return must_be(&#39;an integer&#39;, option=&#39;min_num&#39;, obj=obj, id=&#39;admin.E205&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">    def _check_formset(self, obj):</span>
<span class="s2">#DIVIDER</span>

<span class="s2">        if not _issubclass(obj.formset, BaseModelFormSet):</span>
<span class="s2">            return must_inherit_from(parent=&#39;BaseModelFormSet&#39;, option=&#39;formset&#39;, obj=obj, id=&#39;admin.E206&#39;)</span>
<span class="s2">        else:</span>
<span class="s2">            return []</span>
<span class="s2">#DIVIDER</span>
<span class="s2">def must_be(type, option, obj, id):</span>
<span class="s2">    return [</span>
<span class="s2">        checks.Error(</span>
<span class="s2">            &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; must be </span><span class="si">%s</span><span class="s2">.&quot; % (option, type),</span>
<span class="s2">            obj=obj.__class__,</span>
<span class="s2">            id=id,</span>
<span class="s2">        ),</span>
<span class="s2">    ]</span>
<span class="s2">#DIVIDER</span>
<span class="s2">def must_inherit_from(parent, option, obj, id):</span>
<span class="s2">    return [</span>
<span class="s2">        checks.Error(</span>
<span class="s2">            &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; must inherit from &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot; % (option, parent),</span>
<span class="s2">            obj=obj.__class__,</span>
<span class="s2">            id=id,</span>
<span class="s2">        ),</span>
<span class="s2">    ]</span>
<span class="s2">#DIVIDER</span>
<span class="s2">def refer_to_missing_field(field, option, obj, id):</span>
<span class="s2">    return [</span>
<span class="s2">        checks.Error(</span>
<span class="s2">            &quot;The value of &#39;</span><span class="si">%s</span><span class="s2">&#39; refers to &#39;</span><span class="si">%s</span><span class="s2">&#39;, which is not an attribute of &#39;</span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2">&#39;.&quot; % (</span>
<span class="s2">                option, field, obj.model._meta.app_label, obj.model._meta.object_name</span>
<span class="s2">            ),</span>
<span class="s2">            obj=obj.__class__,</span>
<span class="s2">            id=id,</span>
<span class="s2">        ),</span>
<span class="s2">    ]</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-64'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-64'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-65'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-65'>#</a>
      </div>
      <p>Check that list_display_links is a unique subset of list_display.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-66'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-66'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-67'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-67'>#</a>
      </div>
      <p>Check only if ModelAdmin.get_list_display() isn't overridden.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-68'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-68'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-69'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-69'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-70'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-70'>#</a>
      </div>
      <p>Check one item of <code>list_filter</code>, i.e. check if it is one of three options:
1. 'field' -- a basic field filter, possibly w/ relationships (e.g.
   'field__rel')
2. ('field', SomeFieldListFilter) - a field-based list filter class
3. SomeListFilter - a non-field list filter class</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-71'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-71'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-72'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-72'>#</a>
      </div>
      <p>If item is option 3, it should be a ListFilter...</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-73'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-73'>#</a>
      </div>
      <p>...  but not a FieldListFilter.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-74'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-74'>#</a>
      </div>
      <p>item is option #2</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-75'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-75'>#</a>
      </div>
      <p>item is option #1</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-76'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-76'>#</a>
      </div>
      <p>Validate the field string</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-77'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-77'>#</a>
      </div>
      <p>Check that list_select_related is a boolean, a list or a tuple.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-78'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-78'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-79'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-79'>#</a>
      </div>
      <p>Check that list_per_page is an integer.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-80'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-80'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-81'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-81'>#</a>
      </div>
      <p>Check that list_max_show_all is an integer.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-82'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-82'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-83'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-83'>#</a>
      </div>
      <p>Check that list_editable is a sequence of editable fields from</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-84'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-84'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-85'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-85'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-86'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-86'>#</a>
      </div>
      <p>If list_display[0] is in list_editable, check that
list_display_links is set. See #22792 and #26229 for use cases.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-87'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-87'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-88'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-88'>#</a>
      </div>
      <p>Check that date_hierarchy refers to DateField or DateTimeField.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-89'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-89'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-90'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-90'>#</a>
      </div>
      <p>Actions with an allowed_permission attribute require the ModelAdmin to
implement a has_<perm>_permission() method for each permission.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-91'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-91'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-92'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-92'>#</a>
      </div>
      <p>Check that every action has a unique <strong>name</strong>.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-93'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-93'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-94'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-94'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-95'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-95'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-96'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-96'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-97'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-97'>#</a>
      </div>
      <p>Do not perform more specific checks if the base checks result in an
error.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-98'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-98'>#</a>
      </div>
      <p>Skip if <code>fk_name</code> is invalid.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-99'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-99'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-100'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-100'>#</a>
      </div>
      <p>Check that extra is an integer.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-101'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-101'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-102'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-102'>#</a>
      </div>
      <p>Check that max_num is an integer.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-103'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-103'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-104'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-104'>#</a>
      </div>
      <p>Check that min_num is an integer.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-105'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-105'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-106'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-106'>#</a>
      </div>
      <p>Check formset is a subclass of BaseModelFormSet.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-107'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-107'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-108'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-108'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-109'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-109'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-110'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-110'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
